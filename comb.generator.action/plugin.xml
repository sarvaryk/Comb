<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
    <extension
     point="org.eclipse.ui.commands">
      <command id="comb.generator.action.GenerateCombExpression" name="Generate comb expression"/>
    </extension>
    <extension point="org.eclipse.ui.handlers">
      <handler class="comb.generator.action.GenerateCombExpressionHandler" commandId="comb.generator.action.GenerateCombExpression"/>
    </extension>
    <extension point="org.eclipse.ui.menus">
    <menuContribution allPopups="false" locationURI="popup:org.eclipse.sirius.ui.tools.views.model.explorer#PopupMenu?after=additions">
    <menu label="Comb generator" id="comb-menu-model">     	
	    <command commandId="comb.generator.action.GenerateCombExpression" label="Generate" style="push">
	    	<visibleWhen checkEnabled="false">
              <iterate>
                 <adapt
                       type="comb.expression.metamodel.comb.Element">
                 </adapt>
              </iterate>
            </visibleWhen>
	    </command>
      </menu>
    </menuContribution>
  </extension>
</plugin>
